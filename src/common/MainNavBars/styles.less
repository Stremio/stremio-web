// Copyright (C) 2017-2023 Smart code 203358507

@import (reference) '~stremio/common/screen-sizes.less';

.main-nav-bars-container {
    position: relative;
    z-index: 0;
    overflow: hidden;
    margin-left: var(--safe-area-inset-left, 0px);
    margin-right: var(--safe-area-inset-right, 0px);
    width: calc(100% - var(--safe-area-inset-left, 0px) - var(--safe-area-inset-right, 0px));
    height: 100%;

    @supports (overflow: clip) {
        overflow: clip;
    }

    .horizontal-nav-bar {
        position: absolute;
        top: 0;
        right: 0;
        left: 0;
        z-index: 1;
    }

    .vertical-nav-bar {
        position: absolute;
        top: calc(var(--horizontal-nav-bar-size) + var(--safe-area-inset-top, 0px));
        bottom: var(--calculated-bottom-safe-inset);
        left: 0;
        z-index: 1;
    }

    .nav-content-container {
        position: absolute;
        padding-top: calc(var(--horizontal-nav-bar-size) + var(--safe-area-inset-top, 0px));
        scroll-padding-top: calc(var(--horizontal-nav-bar-size) + var(--safe-area-inset-top, 0px));
        top: 0;
        right: 0;
        bottom: 0;
        left: var(--vertical-nav-bar-size);
        z-index: 0;
        overflow: scroll;

        --top-overlay-size: calc(var(--horizontal-nav-bar-size) + var(--safe-area-inset-top, 0px));
        --bottom-overlay-size: calc(var(--vertical-nav-bar-size) + var(--calculated-bottom-safe-inset, 0px));
        --overlap-size: 6rem;
        --transparency-grandient-pad: 2.5rem;

        mask: linear-gradient(
            to bottom,
            transparent calc(var(--top-overlay-size) - var(--overlap-size)),
            rgba(0, 0, 0, 0.08) calc(var(--top-overlay-size) - (var(--overlap-size) / 2)),
            rgba(0, 0, 0, 0.16) calc(var(--top-overlay-size) - (var(--overlap-size) / 3)),
            black calc(var(--top-overlay-size) + var(--transparency-grandient-pad)),
            black 100%
        );
        overflow-x: hidden;

        &::-webkit-scrollbar-track {
            margin-top: var(--top-overlay-size);
        }

        &.no-overflow {
            overflow: hidden;

            @supports (overflow: clip) {
                overflow: clip;
            }
        }
    }
}

@media only screen and (max-width: @minimum) {
    .main-nav-bars-container {
        .nav-content-container {
            left: 0;
            padding-bottom: var(--vertical-nav-bar-size);

            mask: linear-gradient(
                to bottom,
                transparent calc(var(--top-overlay-size) - var(--overlap-size)),
                rgba(0, 0, 0, 0.08) calc(var(--top-overlay-size) - (var(--overlap-size) / 2)),
                rgba(0, 0, 0, 0.16) calc(var(--top-overlay-size) - (var(--overlap-size) / 3)),
                black calc(var(--top-overlay-size) + var(--transparency-grandient-pad)),
                black calc(100% - var(--bottom-overlay-size) - var(--transparency-grandient-pad)),
                rgba(0, 0, 0, 0.16) calc(100% - var(--bottom-overlay-size) + (var(--overlap-size) / 3)),
                rgba(0, 0, 0, 0.08) calc(100% - var(--bottom-overlay-size) + (var(--overlap-size) / 2)),
                transparent calc(100% - var(--bottom-overlay-size) + var(--overlap-size))
            );

            &::-webkit-scrollbar-track {
                margin-bottom: var(--bottom-overlay-size);
            }
        }

        .vertical-nav-bar {
            top: initial;
        }
    }
}